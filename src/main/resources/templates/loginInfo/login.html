<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>One Sports</title>

<!-- Custom fonts for this template-->
<link href="vendor/fontawesome-free/css/all.min.css"
	rel="stylesheet" type="text/css">
<link href="css/Nunito.css" rel="stylesheet">

<!-- Custom styles for this template-->
<link href="css/sb-admin-2.min.css" rel="stylesheet">
<style>
.naverButton{

-webkit-filter: grayscale(100%);
filter: gray;

}
</style>
</head>

<body id="page-top">

	<!-- Page Wrapper -->
	<div id="wrapper">

		<ul
			class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion"
			id="accordionSidebar">
<meta charset="utf-8">
<!-- Sidebar -->


<!-- Sidebar - Brand -->
<a
	class="sidebar-brand d-flex align-items-center justify-content-center"
	href="/">
	<div class="sidebar-brand-icon rotate-n-1">
		<img src="/img/logo/white_new.png">
	</div>
	<div class="sidebar-brand-text mx-3">One Sports</div>
</a>

<!-- Divider -->
<hr class="sidebar-divider my-0">

<!-- Divider -->
<hr class="sidebar-divider">

<!-- Heading -->
<div class="sidebar-heading">Toto & Shop</div>

<!-- Nav Item - Pages Collapse Menu -->
<li class="nav-item"><a class="nav-link collapsed" href="#"
	data-toggle="collapse" data-target="#collapseToto" aria-expanded="true"
	aria-controls="collapseToto"> <span><i class="fas fa-crown"></i> 토토</span>
</a>
	<div id="collapseToto" class="collapse" aria-labelledby="headingTwo"
		data-parent="#accordionSidebar">
		<div class="bg-white py-2 collapse-inner rounded">
			<h6 class="collapse-header">Games</h6>
			<a class="collapse-item" href="/toto/ladder"><i
				class="fas fa-swimming-pool"></i> 사다리</a> <a class="collapse-item"
				href="/toto/dice"><i class="fas fa-dice"></i> 홀짝</a> <a
				class="collapse-item" href="/toto/graph"><i
				class="fas fa-chart-line"></i> 그래프</a>
			<h6 class="collapse-header">Betting</h6>
			<a class="collapse-item" href="buttons.html"><i
				class="fas fa-gamepad"></i> 게임배팅</a> <a class="collapse-item"
				href="buttons.html"><i class="fas fa-futbol"></i> 스포츠배팅</a>
		</div>
	</div> <a class="nav-link collapsed" href="#" data-toggle="collapse"
	data-target="#collapseHall" aria-expanded="true"
	aria-controls="collapseHall"> <i class="fas fa-trophy"></i> <span>명예의
			전당</span>
</a>
	<div id="collapseHall" class="collapse" aria-labelledby="headingTwo"
		data-parent="#accordionSidebar">
		<div class="bg-white py-2 collapse-inner rounded">
			<a class="collapse-item" href="/project"><i
				class="fas fa-running"></i> 경험치 랭킹</a> <a class="collapse-item"
				href="/history"><i class="fas fa-gamepad"></i> 게임 랭킹</a>
		</div>
	</div></li>


<!-- Nav Item - Utilities Collapse Menu -->
<li class="nav-item"><a class="nav-link collapsed" href="#"
	data-toggle="collapse" data-target="#collapseShop" aria-expanded="true"
	aria-controls="collapseShop"> <i class="fas fa-store-alt">
	<span class="glyphicon glyphicon-align-left" aria-hidden="true"></span>
	</i> <span>상점</span>
</a>
	<div id="collapseShop" class="collapse" aria-labelledby="headingTwo"
		data-parent="#accordionSidebar">
		<div class="bg-white py-2 collapse-inner rounded">
			<a class="collapse-item" href="/itemShop"><i class="fas fa-gift"></i>
				아이템샵</a> <a class="collapse-item" href="/creditShop"><i
				class="fas fa-store"></i> 크레딧샵</a>
		</div>
	</div></li>

<!-- Divider -->
<hr class="sidebar-divider">

<!-- Heading -->
<div class="sidebar-heading">Board</div>

<!-- Nav Item - Charts -->
<!--       <li class="nav-item"> -->
<!--         <a class="nav-link" href="charts.html"> -->
<!--           <i class="fas fa-calendar-week"></i> -->
<!--           <span>이벤트</span></a> -->
<!--       </li> -->

<!-- Nav Item - Tables -->
<li class="nav-item"><a class="nav-link collapsed" href="#"
	data-toggle="collapse" data-target="#collapseBoard"
	aria-expanded="true" aria-controls="collapseBoard"> <i
		class="fas fa-book-reader"></i> <span>게시판</span>
</a>
	<div id="collapseBoard" class="collapse" aria-labelledby="headingTwo"
		data-parent="#accordionSidebar">
		<div class="bg-white py-2 collapse-inner rounded">
			<a class="collapse-item" href="/boardList"><i class="fas fa-book-open"></i>
				자유게시판</a> <a class="collapse-item" href="/qna"><i
				class="fas fa-question-circle"></i> Q&A</a>
		</div>
	</div></li>

<!-- Divider -->
<hr class="sidebar-divider">

<!-- Heading -->
<div class="sidebar-heading">Etc</div>

<!-- Nav Item - Tables -->
<li class="nav-item"><a class="nav-link collapsed" href="#"
	data-toggle="collapse" data-target="#collapseAboutUs"
	aria-expanded="true" aria-controls="collapseAboutUs"> <i
		class="fas fa-user-friends"></i> <span>About Us</span>
</a>
	<div id="collapseAboutUs" class="collapse" aria-labelledby="headingTwo"
		data-parent="#accordionSidebar">
		<div class="bg-white py-2 collapse-inner rounded">
			<a class="collapse-item" href="/project"><i class="fas fa-project-diagram"></i> 프로젝트 소개</a> <a
				class="collapse-item" href="/history"><i class="fas fa-shoe-prints"></i> 연혁</a> <a
				class="collapse-item" href="/introduceTeam"><i class="fas fa-users"></i> 팀원소개</a>
		</div>
	</div></li>
<div class="sidebar-heading">PRIVATE</div>
<!-- VIP Room -->
<li class="nav-item"><a class="nav-link collapsed" href="#"
	data-toggle="collapse" data-target="#collapseVip" aria-expanded="true"
	aria-controls="collapseVip"> <i class="fas fa-store"> <span
			class="glyphicon glyphicon-align-left" aria-hidden="true"></span></i> <span>VIP</span>
</a>
	<div id="collapseVip" class="collapse" aria-labelledby="headingTwo"
		data-parent="#accordionSidebar">
		<div class="bg-white py-2 collapse-inner rounded">
			<a class="collapse-item" href="/vip">입장하기</a>
		</div>
	</div></li>

<!-- Divider -->
<hr class="sidebar-divider d-none d-md-block">

<!-- Sidebar Toggler (Sidebar) -->
<div class="text-center d-none d-md-inline">
	<button class="rounded-circle border-0" id="sidebarToggle"></button>
</div>

<!-- End of Sidebar --></ul>

		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">

			<!-- Main Content -->
			<div id="content">

				<!-- Topbar -->
				<nav
					class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"><!DOCTYPE html>
<meta charset="utf-8">

<!-- Topbar Navbar -->


<ul class="navbar-nav ml-auto">
	<!-- Nav Item - User Information -->
	<li class="nav-item dropdown no-arrow"><a
		class="nav-link dropdown-toggle" href="#" id="userDropdown"
		role="button" data-toggle="dropdown" aria-haspopup="true"
		aria-expanded="false"> <span class="mr-2 d-none d-lg-inline small">회원가입/로그인</span>
			<i class="fas fa-user"></i>
	</a> <!-- Dropdown - User Information -->
		<div
			class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
			aria-labelledby="userDropdown">
			<a class="dropdown-item" href="/registerCust"> <i
				class="fas fa-user-plus"></i> 회원가입
			</a> <a class="dropdown-item" href="/login"> <i
				class="fas fa-sign-in-alt"></i> 로그인
			</a> <a class="dropdown-item" href="/findID_PW"> <i
				class="fas fa-lock-open"></i> ID/PW 찾기
			</a>
		</div></li>
</ul></nav>
				<!-- End of Topbar -->

				<!-- Begin Page Content -->
				<div class="container-fluid">
					<div class="row">
						<h2 class="text-title">로그인</h2>
					</div>

					<div class="row d-flex justify-content-center">
						
						<!-- 이미지 -->
						
							<div class="col-xl-4 col-md-4 mb-4 col-sm-4"  style="margin-right:-25px" >
								<div class="card shadow h-100 py-12">
									<center>
										<img src="/img/OneSports.png" width="80%" style="margin-top:25%; "/>
									</center>
								</div>
							</div>
							
							
							<div class="col-xs-4 col-lg-4 .col-md-4 .col-sm-4">
								<div class="card shadow h-100 py-12">
									<div style="padding: 20px;">
										<div class="input-group mb-3">
											<input type="text" class="form-control" placeholder="ID"
												aria-label="Sizing example input"
												aria-describedby="inputGroup-sizing-default" id="id">
										</div>
	
										<div class="input-group mb-3">
											<input type="password" class="form-control" placeholder="Password"
												aria-label="Sizing example input"
												aria-describedby="inputGroup-sizing-default" id="pw"
												onkeypress="caps_lock(event)">
										</div>
										<p id="capslock"
											style="position: relative; border: 2px solid #003b83; width: 300px; bottom: 0px; display: none">
											&nbsp;<b>CapsLock</b> 키가 눌려있습니다.&nbsp;
										</p>
										<div class="input-group mb-2">
											<div class="custom-control custom-checkbox">
												<input type="checkbox" class="custom-control-input" id="use">
												<label class="custom-control-label" for="use">아이디 기억</label>
											</div>
										</div>
										<div class="input-group mb-2">
											<img src="/img/social/button/onesportsButton.png"
												style="width: 100%; cursor: pointer;"
												onclick="javascript:custLogin()">
										</div>
										<div class="input-group mb-2">
											<img src="/img/social/button/facebookButton.png"
												style="width: 100%; cursor: pointer;"
												onClick="javascript:facebookLogin();">
										</div>
										<div class="input-group mb-2">
											<img src="/img/social/button/kakaoButton.png"
												style="width: 100%; cursor: pointer;"
												onClick="javascript:kakaoLogin();"> <a
												th:href="${kakaoLoginUrl}" style="display: none"
												id="kakaoSocial">kakao</a>
										</div>
										<div class="input-group mb-2">
											<img 
											src="/img/social/button/naverButton.jpg"
												style="width: 100%; cursor: pointer; -webkit-filter: grayscale(100%); filter: gray;"
												onClick="javascript:naverLogin();"> <a
												th:href="${naverLoginUrl}" style="display: none"
												id="naverSocial">naver</a> <span>*<u><a
													href="http://www.law.go.kr/LSW//precInfoP.do?precSeq=186216"
													target="_blank">관련 법</a></u>에 의하여 네이버 로그인이 중지되었습니다.<br>
													<small>네이버 로그인을 하려면 운영자에게 문의줘야된다 맨이야.</small>
											</span><br>
										</div>
										<p class="text-center">
											<a href="/findID_PW">아이디/비밀번호 찾기</a>
										</p>
										<p class="text-center">
											<a href="/registerCust">회원가입</a>
										</p>
										<input type="hidden" id="refer" th:value="${referUrl}">
									</div>
								</div>
							<!-- ㅇㅇ --></div>
					
				</div><br><br>
				<!-- /.container-fluid -->

			</div>
			<!-- End of Main Content -->

			<!-- Footer -->
			<footer class="sticky-footer bg-white"><meta charset="utf-8">
 <div class="container my-auto">
   <div class="copyright text-center my-auto">
   	<div style="display:inline-block;">
   		<img src="/img/OneSports.png" style="vertical-align: baseline" width="120px"/>
   	</div>	
   	<div style="display:inline-block;line-height: normal;">주소 : 서울특별시 강서구 등촌3동 강서로 420<br>
   	팀 이름 : FamilyToto | 사이트 명 : OneSports | 2019년 2학년 2학기 JSP프로젝트<br>
   	조원 : 박지호(조장), 하상준(서브코더), 여규원(퍼블리셔), 이길호(블로거)<br>
   	<a href="https://blog.naver.com/familytoto2019_2b02" target="_blank">블로그</a> | 
   	<a href="https://github.com/bjh0501/OneSports" target="_blank">깃 허브</a><br>
    Copyright &copy; FamilyToto 2019</div>
   </div>
 </div></footer>
			<!-- End of Footer -->

		</div>
		<!-- End of Content Wrapper -->

	</div>
	<!-- End of Page Wrapper -->


	 <!-- Bootstrap core JavaScript-->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- Custom scripts for all pages-->
  <script src="/js/sb-admin-2.min.js"></script>

	<!-- common -->
    <script src="/js/common.js"></script>
	<script src="/js/header.js"></script>
	
  
  
</body>

</html>
<script>
	function caps_lock(e) {
	    var keyCode = 0;
	    var shiftKey = false;
	    keyCode = e.keyCode;
	    shiftKey = e.shiftKey;
	    if (((keyCode >= 65 && keyCode <= 90) && !shiftKey)
	            || ((keyCode >= 97 && keyCode <= 122) && shiftKey)) {
	        show_caps_lock();
	        setTimeout("hide_caps_lock()", 3500);
	    } else {
	        hide_caps_lock();
	    }
	}
	
	function show_caps_lock() {
	 $("#capslock").show();
	}
	
	function hide_caps_lock() {
	 $("#capslock").hide();
	}
	
	function custLogin() {
		id = $("#id");
		pw = $("#pw");
		
		if(id.val().trim() == "") {
			alert("아이디를 입력해주세요.")
			id.focus();
			return;
		}
		
		if(pw.val() == "") {
			alert("비밀번호를 입력해주세요.")
			pw.focus();
			return;
		}

		$.ajax({
			url : "/login/custLogin",
			type : "POST",
			cache : false,
			dataType : "json",
			data : "custId=" + id.val() 
					+ "&custPassword=" + pw.val(),
			success : function(data) {
				if(data == -99) {
					alert("아이디나 비밀번호가 다릅니다.");
					$("#pw").val("")
					return;
				}
				
				if($("input:checkbox[id='use']").is(":checked") == true) {
					setCookie("rememberCustId",id.val(),30);
				} else {
					deleteCookie("rememberCustId");
				}
				
				location.replace($("#refer").val());
			},

			error : function(request, status, error) {
				var msg = "ERROR : " + request.status + "<br>"
				msg += +"내용 : " + request.responseText + "<br>" + error;
				console.log(msg);
			}
		});
	}
	
	$(document).ready(function(){
		remeberedId = getCookie("rememberCustId");
		
		if(remeberedId != undefined) {
			$("#id").val(remeberedId)			
			$("input:checkbox[id='use']").prop("checked", true);
		}
		
		
        $("#id, #pw").keypress(function (e) {
	        if (e.which == 13){
	        	custLogin();
	        }
    	});
	});
	
	function naverLogin() {
		var url = $("#naverSocial").attr("href")
		var popupX = (document.body.offsetWidth / 2) - (680 / 2);
		var popupY= (document.body.offsetHeight / 2) - (650 / 2);

		window.open(url, '', 'status=no, height=680, width=650, left='+ popupX + ', top='+ popupY);
	}
	
	function kakaoLogin() {
		var url = $("#kakaoSocial").attr("href")
		var popupX = (document.body.offsetWidth / 2) - (680 / 2);
		var popupY= (document.body.offsetHeight / 2) - (650 / 2);

		window.open(url, '', 'status=no, height=680, width=650, left='+ popupX + ', top='+ popupY);
	}
	
	function successKakao() {
		location.replace($("#refer").val())
	}
	
	function successNaver() {
		location.replace($("#refer").val())
	}
</script>

<script>
window.fbAsyncInit = function() {
FB.init({
    appId            : '380846455933511',
    autoLogAppEvents : true,
    xfbml            : true,
    version          : 'v2.9'
  });
}

function getUserData() {
    //,age_range'
	FB.api('/me','GET', {"fields": 'name,email,id'}, function(response) {
    	id = response.id
    	name = response.name
    	email = response.email
    	//age = response.age_range // 18세 이상만 가입가능
    	
    	if(id == undefined || id == "") {
    		alert("아이디정보를 불러 올 수 없어서 페이스북 로그인에 실패하였습니다.");
    		return;
    	}
    	
    	/*if(age == undefined || age == "") {
    		alert("나이를 불러 올 수 없어서 페이스북 로그인에 실패하였습니다.");
    		return;
    	} else {
    		age = response.age_range.min;
    		
    		if(age < 18) {
        		alert("성인만 가입할 수 있습니다.");
        		return;
        	}
    	}*/
    	
    	if(email == undefined || email == "") {
    		alert("이메일정보를 불러 올 수 없어서 페이스북 로그인에 실패하였습니다.");
    		return;
    	}
    	
    	$.ajax({
			url : "/login/social/facebook",
			type : "POST",
			cache : false,
			dataType : "json",
			data : "scCustId=" + id
					+ "&scCustEmail=" + email
					+ "&scCustNick=" + name
					+ "&scCustGubun=" + "FA",
			success : function(data) {
				if(data == 0) {
					location.replace($("#refer").val())
				}
			},

			error : function(request, status, error) {
				var msg = "ERROR : " + request.status + "<br>"
				msg += +"내용 : " + request.responseText + "<br>" + error;
				console.log(msg);
			}
		});
    });
}

function facebookLogin() {
	 FB.login(function(response) {
        if (response.authResponse) {
            getUserData();
        }
    // }, {scope: 'email,public_profile,age_range',
    }, {scope: 'email,public_profile',
   	 auth_type: 'rerequest', return_scopes: true});
}


	function caps_lock(e) {
		var keyCode = 0;
		var shiftKey = false;
		keyCode = e.keyCode;
		shiftKey = e.shiftKey;
       
		if (((keyCode >= 65 && keyCode <= 90) && !shiftKey)
			|| ((keyCode >= 97 && keyCode <= 122) && shiftKey)) {
			show_caps_lock();
			setTimeout("hide_caps_lock()", 3500);
		} else {
			hide_caps_lock();
		}
	}

	function show_caps_lock() {
	     $("#capslock").show();
	}
	
	function hide_caps_lock() {
	     $("#capslock").hide();
	}

</script>
<script async defer src="https://connect.facebook.net/en_US/sdk.js">
</script>